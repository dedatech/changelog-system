# Changelog å‘å¸ƒç³»ç»Ÿ

åŸºäº **Next.js 14** çš„è½»é‡çº§ Changelog å‘å¸ƒç³»ç»Ÿï¼Œé‡‡ç”¨çº¯é™æ€éƒ¨ç½²æ¶æ„ï¼Œæ”¯æŒ SSH è‡ªåŠ¨éƒ¨ç½²ã€‚

## âœ¨ ç‰¹æ€§

- âœ… **çº¯é™æ€éƒ¨ç½²** - ç”Ÿäº§ç¯å¢ƒåªéœ€ Nginxï¼Œé›¶æœåŠ¡å™¨ä¾èµ–
- âœ… **æœ¬åœ°ç®¡ç†** - åå°ç®¡ç†åœ¨æœ¬åœ°è¿è¡Œï¼Œå®‰å…¨é«˜æ•ˆ
- âœ… **ä¸€é”®æ„å»ºéƒ¨ç½²** - Next.js SSG + SSH è‡ªåŠ¨éƒ¨ç½²
- âœ… **å®Œç¾å“åº”å¼** - ç§»åŠ¨ç«¯ä¸Šä¸‹å¸ƒå±€ï¼Œæ¡Œé¢ç«¯å·¦å³å¸ƒå±€
- âœ… **ç°ä»£åŒ–æŠ€æœ¯æ ˆ** - Next.js 14 + TypeScript + Tailwind CSS
- âœ… **Markdown ç¼–è¾‘** - æ”¯æŒ Markdown æ ¼å¼ç¼–å†™æ›´æ–°æ—¥å¿—
- âœ… **äº§å“é…ç½®åŒ–** - æ”¯æŒå¤šäº§å“ç®¡ç†ï¼Œå•äº§å“è‡ªåŠ¨éšè—æ ‡ç­¾
- âœ… **è‰ç¨¿/å‘å¸ƒ** - é»˜è®¤ä¿å­˜è‰ç¨¿ï¼Œæ”¯æŒä¸€é”®å‘å¸ƒ/å–æ¶ˆå‘å¸ƒ
- âœ… **SEO å‹å¥½** - é™æ€ HTMLï¼Œåˆ©äºæœç´¢å¼•æ“æ”¶å½•

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# å¯åŠ¨åç«¯æœåŠ¡ï¼ˆåŒ…å«å‰å°å±•ç¤ºå’Œåå°ç®¡ç†ï¼‰
npm run dev:backend
```

è®¿é—®ï¼š
- http://localhost:3001/ - å‰å°å±•ç¤ºé¡µé¢
- http://localhost:3001/admin - åå°ç®¡ç†é¡µé¢

**å¼€å‘æ¨¡å¼ä¸‹æ”¯æŒçƒ­é‡è½½**ï¼Œä¿®æ”¹ä»£ç åä¼šè‡ªåŠ¨åˆ·æ–°ï¼Œæ— éœ€æ‰‹åŠ¨é‡å¯ã€‚

## ğŸ” åå°ç™»å½•

### é»˜è®¤è´¦å·å¯†ç 

- **ç”¨æˆ·å**ï¼š`admin`
- **å¯†ç **ï¼š`admin123`

**é‡è¦æç¤º**ï¼šé¦–æ¬¡ä½¿ç”¨åè¯·ç«‹å³ä¿®æ”¹å¯†ç ï¼

### ä¿®æ”¹å¯†ç 

æœ‰ä¸¤ç§æ–¹å¼ä¿®æ”¹ç®¡ç†å‘˜å¯†ç ï¼š

#### æ–¹å¼ 1ï¼šåœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹

ç¼–è¾‘ `data/config.json` æ–‡ä»¶ï¼š

```json
{
  "admin": {
    "username": "ä½ çš„ç”¨æˆ·å",
    "password": "ä½ çš„å¯†ç "
  }
}
```

#### æ–¹å¼ 2ï¼šåœ¨ç³»ç»Ÿé…ç½®é¡µé¢ä¿®æ”¹

1. ç™»å½•åå°
2. ç‚¹å‡»å³ä¸Šè§’"âš™ï¸ ç³»ç»Ÿé…ç½®"
3. åœ¨"ğŸ” ç®¡ç†å‘˜è´¦å·"éƒ¨åˆ†ä¿®æ”¹ç”¨æˆ·åå’Œå¯†ç 
4. ç‚¹å‡»"ä¿å­˜é…ç½®"æŒ‰é’®

### ç™»å½•ä¿æŠ¤

- æ‰€æœ‰ `/admin` è·¯ç”±éƒ½éœ€è¦ç™»å½•æ‰èƒ½è®¿é—®
- ç™»å½•çŠ¶æ€ä¿å­˜åœ¨æµè§ˆå™¨ Cookie ä¸­ï¼ˆæœ‰æ•ˆæœŸ 7 å¤©ï¼‰
- ç‚¹å‡»"ç™»å‡º"æŒ‰é’®å¯æ¸…é™¤ç™»å½•çŠ¶æ€

### å¿˜è®°å¯†ç 

å¦‚æœå¿˜è®°å¯†ç ï¼Œè¯·ç›´æ¥ç¼–è¾‘ `data/config.json` æ–‡ä»¶ä¿®æ”¹ `admin.password` å­—æ®µã€‚

### 3. æ„å»ºé™æ€é¡µé¢

```bash
npm run build
```

æ„å»ºå®Œæˆåï¼Œé™æ€æ–‡ä»¶ä¼šç”Ÿæˆåœ¨ `out/` ç›®å½•ã€‚

### 4. éƒ¨ç½²åˆ° Nginx

#### é…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```bash
cp .env.example .env.local
```

ç¼–è¾‘ `.env.local`ï¼Œå¡«å…¥ä½ çš„æœåŠ¡å™¨ä¿¡æ¯ï¼š

```bash
DEPLOY_HOST=your-server.com
DEPLOY_USER=username
DEPLOY_PASSWORD=your-password
```

#### æ‰§è¡Œéƒ¨ç½²

```bash
# ä¸€é”®æ„å»ºå¹¶éƒ¨ç½²
npm run deploy:full

# æˆ–åˆ†æ­¥æ‰§è¡Œ
npm run build    # æ„å»º
npm run deploy   # éƒ¨ç½²
```

## âš™ï¸ äº§å“ç±»å‹é…ç½®

### é…ç½®æ–‡ä»¶ä½ç½®

`data/config.json`

### é…ç½®æ ¼å¼

```json
{
  "site": {
    "title": "Changelog",
    "description": "æŒç»­æ”¹è¿›ï¼Œä¸æ–­è¿›åŒ–",
    "domain": "https://changelog.yourdomain.com",
    "logo": "/logo.png"
  },
  "products": [
    {
      "id": "jetbrains",
      "name": "JetBrains",
      "label": "JetBrains",
      "enabled": true,
      "icon": "ğŸ”Œ",
      "order": 1
    }
  ],
  "display": {
    "itemsPerPage": 10,
    "dateFormat": "YYYY-MM-DD"
  }
}
```

### äº§å“é…ç½®è¯´æ˜

| å­—æ®µ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `id` | äº§å“å”¯ä¸€æ ‡è¯†ï¼ˆè‹±æ–‡ï¼‰ | `"jetbrains"` |
| `name` | äº§å“åç§°ï¼Œç”¨äºåŒ¹é…ç‰ˆæœ¬æ•°æ® | `"JetBrains"` |
| `label` | å‰ç«¯æ˜¾ç¤ºæ ‡ç­¾ | `"JetBrains"` |
| `enabled` | æ˜¯å¦å¯ç”¨ | `true/false` |
| `icon` | å›¾æ ‡ï¼ˆå¯é€‰ï¼Œæ”¯æŒ emojiï¼‰ | `"ğŸ”Œ"` |
| `order` | æ˜¾ç¤ºé¡ºåºï¼ˆæ•°å­—è¶Šå°è¶Šé å‰ï¼‰ | `1` |

### æ·»åŠ æ–°äº§å“

ç¼–è¾‘ `data/config.json`ï¼Œåœ¨ `products` æ•°ç»„ä¸­æ·»åŠ æ–°äº§å“ï¼š

```json
"products": [
  {
    "id": "jetbrains",
    "name": "JetBrains",
    "label": "JetBrains",
    "enabled": true,
    "icon": "ğŸ”Œ",
    "order": 1
  },
  {
    "id": "vscode",
    "name": "VSCode",
    "label": "VSCode",
    "enabled": true,
    "icon": "ğŸ’»",
    "order": 2
  }
]
```

### é…ç½®è¯´æ˜

- **å•äº§å“æ¨¡å¼**ï¼šåªæœ‰ä¸€ä¸ª `enabled: true` çš„äº§å“æ—¶ï¼Œå‰å°ä¸æ˜¾ç¤ºäº§å“æ ‡ç­¾
- **å¤šäº§å“æ¨¡å¼**ï¼šå¤šä¸ª `enabled: true` çš„äº§å“æ—¶ï¼Œå‰å°æ˜¾ç¤ºäº§å“åˆ‡æ¢æ ‡ç­¾
- ä¿®æ”¹é…ç½®åï¼Œå‰å°é¡µé¢ä¼šè‡ªåŠ¨è¯»å–æœ€æ–°é…ç½®ï¼ˆå¼€å‘æ¨¡å¼ä¸‹å®æ—¶ç”Ÿæ•ˆï¼‰

## ğŸ“ Markdown ç¼–è¾‘å™¨ä½¿ç”¨

### æ”¯æŒçš„æ ¼å¼

```markdown
## ç‰¹æ€§
- æ–°åŠŸèƒ½æè¿°
  - å­é¡¹è¯¦æƒ…ï¼ˆç¼©è¿›2ä¸ªç©ºæ ¼ï¼‰

## ä¼˜åŒ–
- æ€§èƒ½ä¼˜åŒ–ç‚¹

## ä¿®å¤
- ä¿®å¤çš„é—®é¢˜
```

### åˆ†ç±»å…³é”®è¯

- `## ç‰¹æ€§` æˆ– `## feature` - æ–°ç‰¹æ€§
- `## ä¼˜åŒ–` æˆ– `## improvement` - ä¼˜åŒ–æ”¹è¿›
- `## ä¿®å¤` æˆ– `## fix` - é—®é¢˜ä¿®å¤

### åˆ—è¡¨æ ¼å¼

- `- å†…å®¹` - ä¸€çº§åˆ—è¡¨é¡¹
- `  - å­å†…å®¹`ï¼ˆ2ä¸ªç©ºæ ¼ç¼©è¿›ï¼‰- äºŒçº§åˆ—è¡¨é¡¹

## ğŸ“ é¡¹ç›®ç»“æ„

```
changelog-system/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ page.tsx           # é¦–é¡µï¼ˆç‰ˆæœ¬åˆ—è¡¨ï¼‰
â”‚   â”œâ”€â”€ admin/             # åå°ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ page.tsx       # ç‰ˆæœ¬åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ new/           # æ–°å»ºç‰ˆæœ¬
â”‚   â”‚   â””â”€â”€ edit/[id]/     # ç¼–è¾‘ç‰ˆæœ¬
â”‚   â”œâ”€â”€ api/               # API è·¯ç”±
â”‚   â”‚   â””â”€â”€ versions/      # ç‰ˆæœ¬ CRUD API
â”‚   â””â”€â”€ globals.css        # å…¨å±€æ ·å¼
â”œâ”€â”€ components/            # React ç»„ä»¶
â”‚   â”œâ”€â”€ ChangelogClient.tsx  # å‰å°å±•ç¤ºç»„ä»¶
â”‚   â””â”€â”€ VersionEditor.tsx    # Markdown ç¼–è¾‘å™¨
â”œâ”€â”€ lib/                   # æ ¸å¿ƒé€»è¾‘
â”‚   â”œâ”€â”€ data.ts           # æ•°æ®ç®¡ç†
â”‚   â”œâ”€â”€ markdown.ts       # Markdown è§£æå™¨
â”‚   â””â”€â”€ config.ts         # é…ç½®å·¥å…·
â”œâ”€â”€ data/                 # æ•°æ®å­˜å‚¨
â”‚   â”œâ”€â”€ changelog.json    # ç‰ˆæœ¬æ•°æ®
â”‚   â””â”€â”€ config.json       # ç³»ç»Ÿé…ç½®
â”œâ”€â”€ public/               # é™æ€èµ„æº
â”‚   â””â”€â”€ uploads/          # ä¸Šä¼ çš„å›¾ç‰‡/è§†é¢‘
â”œâ”€â”€ types/                # TypeScript ç±»å‹
â””â”€â”€ scripts/              # æ„å»ºè„šæœ¬
```

## ğŸ› ï¸ å¼€å‘

### æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Next.js 14 (App Router)
- **å¼€å‘è¯­è¨€**: TypeScript
- **æ ·å¼æ–¹æ¡ˆ**: Tailwind CSS
- **Markdown è§£æ**: è‡ªå®šä¹‰è§£æå™¨
- **éƒ¨ç½²æ–¹å¼**: SSH/SFTP

### å¯ç”¨å‘½ä»¤

```bash
npm run dev           # å¯åŠ¨å‰å°å¼€å‘æœåŠ¡å™¨
npm run dev:backend   # å¯åŠ¨åå°å¼€å‘æœåŠ¡å™¨ï¼ˆæ¨èï¼‰
npm run dev:frontend  # å¯åŠ¨å‰ç«¯é¢„è§ˆæœåŠ¡å™¨
npm run dev:both      # åŒæ—¶å¯åŠ¨å‰åå°
npm run build         # æ„å»ºé™æ€é¡µé¢
npm run start         # é¢„è§ˆæ„å»ºç»“æœ
npm run lint          # ä»£ç æ£€æŸ¥
npm run deploy        # éƒ¨ç½²åˆ°æœåŠ¡å™¨
npm run backup        # å¤‡ä»½æ•°æ®
```

## ğŸ“¦ Nginx é…ç½®

å‚è€ƒ `deploy/nginx.conf` é…ç½® Nginxã€‚

### åŸºæœ¬é…ç½®

```nginx
server {
    listen 80;
    server_name changelog.yourdomain.com;
    root /var/www/changelog;
    index index.html;

    location / {
        try_files $uri $uri/ /index.html;
    }

    gzip on;
    gzip_types text/plain text/css application/javascript;
}
```

## ğŸ”’ å®‰å…¨å»ºè®®

1. **ä½¿ç”¨ SSH å¯†é’¥** - æ¯”å¯†ç æ›´å®‰å…¨
2. **ç¯å¢ƒå˜é‡** - ä¸è¦æäº¤æ•æ„Ÿä¿¡æ¯åˆ°ä»£ç 
3. **æœ¬åœ°ç®¡ç†** - åå°ä¸æš´éœ²åˆ°å…¬ç½‘
4. **HTTPS** - ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ SSL è¯ä¹¦

## ğŸ¨ è®¾è®¡ç³»ç»Ÿ

æœ¬é¡¹ç›®é‡‡ç”¨ç»Ÿä¸€çš„è®¾è®¡ç³»ç»Ÿï¼ŒåŒ…æ‹¬å­—ä½“å±‚çº§ã€é¢œè‰²ã€é—´è·ã€å¸ƒå±€ç­‰è§„èŒƒã€‚

æŸ¥çœ‹å®Œæ•´çš„è®¾è®¡ç³»ç»Ÿæ–‡æ¡£ï¼š[**DESIGN_SYSTEM.md**](./DESIGN_SYSTEM.md)

### æ ¸å¿ƒè®¾è®¡åŸåˆ™

- **æ¸…æ™°çš„è§†è§‰å±‚æ¬¡** - ç‰ˆæœ¬æ ‡é¢˜ã€åˆ†ç±»æ ‡é¢˜ã€åˆ—è¡¨é¡¹ä¾æ¬¡é€’å‡
- **ç»Ÿä¸€çš„å­—ä½“ç³»ç»Ÿ** - å‰å°å±•ç¤ºä¸åå°é¢„è§ˆä¿æŒä¸€è‡´çš„è§†è§‰é£æ ¼
- **å“åº”å¼ä¼˜å…ˆ** - ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯åˆ†åˆ«ä¼˜åŒ–
- **ç°ä»£åŒ–è®¾è®¡** - ç´«è“æ¸å˜ä¸»é¢˜ï¼Œåœ†è§’å¡ç‰‡ï¼Œæµç•…åŠ¨ç”»

### å¿«é€Ÿè‡ªå®šä¹‰

#### ä¿®æ”¹ä¸»é¢˜è‰²

ç¼–è¾‘ `tailwind.config.js`ï¼š

```javascript
theme: {
  extend: {
    colors: {
      primary: { /* ... */ },
      // æ·»åŠ è‡ªå®šä¹‰é¢œè‰²
    }
  }
}
```

#### ä¿®æ”¹æ¸å˜èƒŒæ™¯

ç¼–è¾‘ `components/ChangelogClient.tsx`ï¼š

```tsx
<div className="min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50">
```

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼
